package message

import (
	"bytes"
	"testing"

	"github.com/stretchr/testify/require"
)

func TestGetETag(t *testing.T) {
	got, err := GetETag(bytes.NewReader([]byte("vfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGhvfbslVuq3Ql5XUGh")))
	require.NoError(t, err)
	require.Equal(t, []byte{0x54, 0x4e, 0x28, 0x79, 0x1c, 0x23, 0x17, 0x24}, got)
}
